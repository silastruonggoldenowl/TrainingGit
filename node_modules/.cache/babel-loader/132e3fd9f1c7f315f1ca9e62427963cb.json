{"ast":null,"code":"import _regeneratorRuntime from\"/home/silas/Desktop/Program/goldenOwl/TrainingGit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/silas/Desktop/Program/goldenOwl/TrainingGit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as Sentry from\"@sentry/react\";import SentryCli from\"@sentry/cli\";Sentry.init({dsn:process.env.REACT_APP_SENTRY_DSN});function createReleaseAndUpload(){return _createReleaseAndUpload.apply(this,arguments);}function _createReleaseAndUpload(){_createReleaseAndUpload=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var release,customSentryCli;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:release=process.env.REACT_APP_SENTRY_RELEASE;if(release){_context.next=4;break;}console.warn(\"REACT_APP_SENTRY_RELEASE is not set\");return _context.abrupt(\"return\");case 4:customSentryCli=new SentryCli();_context.prev=5;console.log(customSentryCli.releases);console.log(\"Creating sentry release \".concat(release));_context.next=10;return customSentryCli.releases.new(release);case 10:console.log(\"Uploading source maps\");_context.next=13;return customSentryCli.releases.uploadSourceMaps(release,{include:[\"build/static/js\"],urlPrefix:\"~/static/js\",rewrite:false});case 13:console.log(\"Finalizing release\");_context.next=16;return customSentryCli.releases.finalize(release);case 16:_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](5);console.error(\"Source maps uploading failed:\",_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[5,18]]);}));return _createReleaseAndUpload.apply(this,arguments);}createReleaseAndUpload();export default Sentry;","map":{"version":3,"sources":["/home/silas/Desktop/Program/goldenOwl/TrainingGit/src/config/configSentry.js"],"names":["Sentry","SentryCli","init","dsn","process","env","REACT_APP_SENTRY_DSN","createReleaseAndUpload","release","REACT_APP_SENTRY_RELEASE","console","warn","customSentryCli","log","releases","new","uploadSourceMaps","include","urlPrefix","rewrite","finalize","error"],"mappings":"6UAAA,MAAO,GAAKA,CAAAA,MAAZ,KAAwB,eAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEAD,MAAM,CAACE,IAAP,CAAY,CACVC,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,oBADP,CAAZ,E,QAIeC,CAAAA,sB,4KAAf,+JACQC,OADR,CACkBJ,OAAO,CAACC,GAAR,CAAYI,wBAD9B,IAEOD,OAFP,yBAGIE,OAAO,CAACC,IAAR,CAAa,qCAAb,EAHJ,wCAQQC,eARR,CAQ0B,GAAIX,CAAAA,SAAJ,EAR1B,iBAUIS,OAAO,CAACG,GAAR,CAAYD,eAAe,CAACE,QAA5B,EACAJ,OAAO,CAACG,GAAR,mCAAuCL,OAAvC,GAXJ,uBAYUI,CAAAA,eAAe,CAACE,QAAhB,CAAyBC,GAAzB,CAA6BP,OAA7B,CAZV,SAcIE,OAAO,CAACG,GAAR,CAAY,uBAAZ,EAdJ,uBAeUD,CAAAA,eAAe,CAACE,QAAhB,CAAyBE,gBAAzB,CAA0CR,OAA1C,CAAmD,CACvDS,OAAO,CAAE,CAAC,iBAAD,CAD8C,CAEvDC,SAAS,CAAE,aAF4C,CAGvDC,OAAO,CAAE,KAH8C,CAAnD,CAfV,SAqBIT,OAAO,CAACG,GAAR,CAAY,oBAAZ,EArBJ,uBAsBUD,CAAAA,eAAe,CAACE,QAAhB,CAAyBM,QAAzB,CAAkCZ,OAAlC,CAtBV,0FAwBIE,OAAO,CAACW,KAAR,CAAc,+BAAd,cAxBJ,qE,yDA4BAd,sBAAsB,GAEtB,cAAeP,CAAAA,MAAf","sourcesContent":["import * as Sentry from \"@sentry/react\";\nimport SentryCli from \"@sentry/cli\";\n\nSentry.init({\n  dsn: process.env.REACT_APP_SENTRY_DSN,\n});\n\nasync function createReleaseAndUpload() {\n  const release = process.env.REACT_APP_SENTRY_RELEASE;\n  if (!release) {\n    console.warn(\"REACT_APP_SENTRY_RELEASE is not set\");\n\n    return;\n  }\n\n  const customSentryCli = new SentryCli();\n  try {\n    console.log(customSentryCli.releases);\n    console.log(`Creating sentry release ${release}`);\n    await customSentryCli.releases.new(release);\n\n    console.log(\"Uploading source maps\");\n    await customSentryCli.releases.uploadSourceMaps(release, {\n      include: [\"build/static/js\"],\n      urlPrefix: \"~/static/js\",\n      rewrite: false,\n    });\n\n    console.log(\"Finalizing release\");\n    await customSentryCli.releases.finalize(release);\n  } catch (e) {\n    console.error(\"Source maps uploading failed:\", e);\n  }\n}\n\ncreateReleaseAndUpload();\n\nexport default Sentry;\n"]},"metadata":{},"sourceType":"module"}