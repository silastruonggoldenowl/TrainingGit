{"ast":null,"code":"let Declaration = require('../declaration');\n\nlet {\n  parseGridAreas,\n  warnMissedAreas,\n  prefixTrackProp,\n  prefixTrackValue,\n  getGridGap,\n  warnGridGap,\n  inheritGridGap\n} = require('./grid-utils');\n\nfunction getGridRows(tpl) {\n  return tpl.trim().slice(1, -1).split(/[\"']\\s*[\"']?/g);\n}\n\nclass GridTemplateAreas extends Declaration {\n  /**\n   * Translate grid-template-areas to separate -ms- prefixed properties\n   */\n  insert(decl, prefix, prefixes, result) {\n    if (prefix !== '-ms-') return super.insert(decl, prefix, prefixes);\n    let hasColumns = false;\n    let hasRows = false;\n    let parent = decl.parent;\n    let gap = getGridGap(decl);\n    gap = inheritGridGap(decl, gap) || gap; // remove already prefixed rows\n    // to prevent doubling prefixes\n\n    parent.walkDecls(/-ms-grid-rows/, i => i.remove()); // add empty tracks to rows\n\n    parent.walkDecls(/grid-template-(rows|columns)/, trackDecl => {\n      if (trackDecl.prop === 'grid-template-rows') {\n        hasRows = true;\n        let {\n          prop,\n          value\n        } = trackDecl;\n        trackDecl.cloneBefore({\n          prop: prefixTrackProp({\n            prop,\n            prefix\n          }),\n          value: prefixTrackValue({\n            value,\n            gap: gap.row\n          })\n        });\n      } else {\n        hasColumns = true;\n      }\n    });\n    let gridRows = getGridRows(decl.value);\n\n    if (hasColumns && !hasRows && gap.row && gridRows.length > 1) {\n      decl.cloneBefore({\n        prop: '-ms-grid-rows',\n        value: prefixTrackValue({\n          value: `repeat(${gridRows.length}, auto)`,\n          gap: gap.row\n        }),\n        raws: {}\n      });\n    } // warnings\n\n\n    warnGridGap({\n      gap,\n      hasColumns,\n      decl,\n      result\n    });\n    let areas = parseGridAreas({\n      rows: gridRows,\n      gap\n    });\n    warnMissedAreas(areas, decl, result);\n    return decl;\n  }\n\n}\n\nGridTemplateAreas.names = ['grid-template-areas'];\nmodule.exports = GridTemplateAreas;","map":{"version":3,"sources":["/home/silas/Desktop/Program/goldenOwl/TrainingGit/node_modules/autoprefixer/lib/hacks/grid-template-areas.js"],"names":["Declaration","require","parseGridAreas","warnMissedAreas","prefixTrackProp","prefixTrackValue","getGridGap","warnGridGap","inheritGridGap","getGridRows","tpl","trim","slice","split","GridTemplateAreas","insert","decl","prefix","prefixes","result","hasColumns","hasRows","parent","gap","walkDecls","i","remove","trackDecl","prop","value","cloneBefore","row","gridRows","length","raws","areas","rows","names","module","exports"],"mappings":"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","sourcesContent":["let Declaration = require('../declaration')\nlet {\n  parseGridAreas,\n  warnMissedAreas,\n  prefixTrackProp,\n  prefixTrackValue,\n  getGridGap,\n  warnGridGap,\n  inheritGridGap\n} = require('./grid-utils')\n\nfunction getGridRows (tpl) {\n  return tpl\n    .trim()\n    .slice(1, -1)\n    .split(/[\"']\\s*[\"']?/g)\n}\n\nclass GridTemplateAreas extends Declaration {\n  /**\n   * Translate grid-template-areas to separate -ms- prefixed properties\n   */\n  insert (decl, prefix, prefixes, result) {\n    if (prefix !== '-ms-') return super.insert(decl, prefix, prefixes)\n\n    let hasColumns = false\n    let hasRows = false\n    let parent = decl.parent\n    let gap = getGridGap(decl)\n    gap = inheritGridGap(decl, gap) || gap\n\n    // remove already prefixed rows\n    // to prevent doubling prefixes\n    parent.walkDecls(/-ms-grid-rows/, i => i.remove())\n\n    // add empty tracks to rows\n    parent.walkDecls(/grid-template-(rows|columns)/, trackDecl => {\n      if (trackDecl.prop === 'grid-template-rows') {\n        hasRows = true\n        let { prop, value } = trackDecl\n        trackDecl.cloneBefore({\n          prop: prefixTrackProp({ prop, prefix }),\n          value: prefixTrackValue({ value, gap: gap.row })\n        })\n      } else {\n        hasColumns = true\n      }\n    })\n\n    let gridRows = getGridRows(decl.value)\n\n    if (hasColumns && !hasRows && gap.row && gridRows.length > 1) {\n      decl.cloneBefore({\n        prop: '-ms-grid-rows',\n        value: prefixTrackValue({\n          value: `repeat(${gridRows.length}, auto)`,\n          gap: gap.row\n        }),\n        raws: {}\n      })\n    }\n\n    // warnings\n    warnGridGap({\n      gap,\n      hasColumns,\n      decl,\n      result\n    })\n\n    let areas = parseGridAreas({\n      rows: gridRows,\n      gap\n    })\n\n    warnMissedAreas(areas, decl, result)\n\n    return decl\n  }\n}\n\nGridTemplateAreas.names = ['grid-template-areas']\n\nmodule.exports = GridTemplateAreas\n"]},"metadata":{},"sourceType":"script"}